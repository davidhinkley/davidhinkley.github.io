"use strict";(self.webpackChunkphoto_gallery_client=self.webpackChunkphoto_gallery_client||[]).push([[936],{18:(e,t,r)=>{r.d(t,{ym:()=>l});r(43);var a=r(579);const s=()=>(0,a.jsxs)("div",{className:"card group bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden transition-colors duration-200 animate-pulse",children:[(0,a.jsx)("div",{className:"relative overflow-hidden h-64 bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"w-3/4",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 w-1/2 bg-gray-200 dark:bg-gray-700 rounded mb-1"})]}),(0,a.jsx)("div",{className:"h-6 w-6 bg-gray-200 dark:bg-gray-700 rounded-full"})]})})]}),l=e=>{let{count:t=8}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array(t).fill(0).map(((e,t)=>(0,a.jsx)(s,{},t)))})}},134:(e,t,r)=>{r.d(t,{A:()=>c});var a=r(43),s=r(475),l=r(248),i=r(266),o=r(431),n=r(579);const d=e=>{let{photo:t,onLike:r,onDelete:d,currentUserId:c}=e;const{id:h,title:m,path:x,likes:g,category:u,attribution:p,userId:y}=t,[b,w]=(0,a.useState)("square"),[j,f]=(0,a.useState)(!1),[k,v]=(0,a.useState)(!1),N=c&&y===c;return(0,n.jsxs)("div",{className:"card group bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden transition-colors duration-200",children:[(0,n.jsxs)("div",{className:"relative overflow-hidden h-64",children:[(0,n.jsxs)(s.N_,{to:`/photos/${h}`,className:"block w-full h-full cursor-pointer z-10 relative",children:[k?(0,n.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-700",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,n.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Image not available"})]}):(0,n.jsx)("img",{src:x,alt:m,className:`\n                transition-transform duration-300 group-hover:scale-105\n                ${"portrait"===b?"w-full h-auto object-cover object-center":""}\n                ${"landscape"===b?"h-full w-auto object-cover object-center":""}\n                ${"square"===b?"w-full h-full object-contain":""}\n                ${j?"opacity-100":"opacity-0"}\n              `,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},onLoad:e=>{const t=(e=>{if(e.naturalWidth&&e.naturalHeight){const t=e.naturalWidth/e.naturalHeight;return t<.9?"portrait":t>1.1?"landscape":"square"}return"square"})(e.target);w(t),f(!0),v(!1)},onError:()=>{v(!0),f(!0)}}),!j&&!k&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-800",children:(0,n.jsx)("div",{className:"w-8 h-8 border-t-4 border-primary-600 border-solid rounded-full animate-spin"})})]}),(0,n.jsx)(s.N_,{to:`/photos/${h}`,className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-opacity duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100 z-20",children:(0,n.jsx)("span",{className:"btn btn-primary px-4 py-2 rounded-md bg-primary-600 text-white",children:"View Details"})}),N&&d&&(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),window.confirm("Are you sure you want to delete this photo? This action cannot be undone.")&&d(h)},className:"absolute top-2 right-2 p-2 bg-red-600 bg-opacity-70 hover:bg-opacity-100 text-white rounded-full transition-opacity duration-200 opacity-0 group-hover:opacity-100 z-30",title:"Delete photo",children:(0,n.jsx)(l.A,{className:"h-5 w-5"})})]}),(0,n.jsx)("div",{className:"p-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-1",children:(0,n.jsx)(s.N_,{to:`/photos/${h}`,className:"hover:text-primary-600 dark:hover:text-primary-400",children:m})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{className:"inline-block bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 dark:text-gray-300 mr-2 mb-1",children:["#",u]}),p&&(0,n.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:p})]})]}),(0,n.jsxs)("button",{onClick:()=>r(h),className:"flex items-center text-gray-500 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400",children:[t.liked?(0,n.jsx)(o.A,{className:"h-6 w-6 text-red-500 dark:text-red-400"}):(0,n.jsx)(i.A,{className:"h-6 w-6"}),(0,n.jsx)("span",{className:"ml-1",children:g})]})]})})]})},c=e=>{let{photos:t,onLike:r,onDelete:a,currentUserId:s}=e;return t&&0!==t.length?(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((e=>(0,n.jsx)(d,{photo:e,onLike:r,onDelete:a,currentUserId:s},e.id)))}):(0,n.jsx)("div",{className:"text-center py-10",children:(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-500",children:"No photos found"})})}},248:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(43);function s(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const l=a.forwardRef(s)},266:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(43);function s(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const l=a.forwardRef(s)},431:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(43);function s(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const l=a.forwardRef(s)},936:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var a=r(43),s=r(475),l=r(213),i=r(134),o=r(18),n=r(729),d=r(579);const c=()=>{const{currentUser:e,isAuthenticated:t}=(0,n.A)(),[r,c]=(0,a.useState)([]),[h,m]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{try{const e=await l.A.get("/api/photos"),t=e.data.filter((e=>e.liked));let r;r=t.length>0?[...t].sort(((e,t)=>t.likes-e.likes)):[...e.data].sort(((e,t)=>t.likes-e.likes)).slice(0,8),c(r),m(!1)}catch(e){console.error("Error fetching featured photos:",e),m(!1)}})()}),[]);return(0,d.jsxs)("div",{children:[(0,d.jsx)("section",{className:"bg-gradient-to-r from-primary-600 to-primary-800 dark:bg-[#051E36] dark:bg-none text-white py-16 rounded-lg mb-12",children:(0,d.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,d.jsx)("h1",{className:"text-5xl md:text-6xl galleria-title mb-4",children:"Galleria"}),(0,d.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Capture and Share Your Moments"}),(0,d.jsx)("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"A beautiful gallery to showcase your photography. Upload, organize, and share your favorite photos with the world."}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,d.jsx)(s.N_,{to:"/gallery",className:"btn bg-white text-primary-700 hover:bg-gray-100",children:"Browse Gallery"}),(0,d.jsx)(s.N_,{to:"/upload",className:"btn bg-primary-500 text-white hover:bg-primary-600 border border-white",children:"Upload Photos"})]})]})}),(0,d.jsxs)("section",{className:"mb-12",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h2",{className:"text-3xl galleria-title",children:"Featured Photos"}),(0,d.jsx)(s.N_,{to:"/gallery",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium",children:"View All \u2192"})]}),h?(0,d.jsx)(o.ym,{count:8}):(0,d.jsx)(i.A,{photos:r,onLike:async e=>{if(!t)return void alert("Please log in to like photos");const a=r.find((t=>t.id===e));if(!a||!a.liked)try{const t=await l.A.post(`/api/photos/${e}/like`);c(r.map((r=>r.id===e?{...r,likes:t.data.likes,liked:!0}:r)))}catch(s){console.error("Error liking photo:",s)}},onDelete:async e=>{try{await l.A.delete(`/api/photos/${e}`),c(r.filter((t=>t.id!==e)))}catch(t){console.error("Error deleting photo:",t)}},currentUserId:null===e||void 0===e?void 0:e.id})]}),(0,d.jsxs)("section",{className:"mb-12",children:[(0,d.jsx)("h2",{className:"text-3xl galleria-title mb-6 text-center",children:"Why Choose Galleria"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,d.jsxs)("div",{className:"bg-white dark:bg-[#051E36] p-6 rounded-lg shadow-md",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-800 rounded-full flex items-center justify-center mb-4",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600 dark:text-primary-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,d.jsx)("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:"Beautiful Display"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-white",children:"Showcase your photos in a responsive, grid-based layout that looks great on any device."})]}),(0,d.jsxs)("div",{className:"bg-white dark:bg-[#051E36] p-6 rounded-lg shadow-md",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-800 rounded-full flex items-center justify-center mb-4",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600 dark:text-primary-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,d.jsx)("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:"Easy Uploads"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-white",children:"Quickly upload your photos, add descriptions, and organize them into categories."})]}),(0,d.jsxs)("div",{className:"bg-white dark:bg-[#051E36] p-6 rounded-lg shadow-md",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-800 rounded-full flex items-center justify-center mb-4",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-600 dark:text-primary-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,d.jsx)("h3",{className:"text-xl font-semibold mb-2 dark:text-white",children:"Social Sharing"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-white",children:"Share your photos with friends and family, and let them like and comment on your work."})]})]})]}),(0,d.jsxs)("section",{className:"bg-gray-100 dark:bg-[#051E36] p-8 rounded-lg text-center",children:[(0,d.jsx)("h2",{className:"text-3xl galleria-title mb-4",children:"Ready to Start Sharing?"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-white mb-6 max-w-2xl mx-auto",children:"Join our community of photographers and start showcasing your work today."}),(0,d.jsx)(s.N_,{to:"/register",className:"btn btn-primary",children:"Create an Account"})]})]})}}}]);
//# sourceMappingURL=936.c199ee5d.chunk.js.map