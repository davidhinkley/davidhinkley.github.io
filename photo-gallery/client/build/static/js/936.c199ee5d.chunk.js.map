{"version":3,"file":"static/js/936.c199ee5d.chunk.js","mappings":"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","sources":["components/ui/SkeletonLoader.js","components/photos/PhotoCard.js","components/photos/PhotoGrid.js","../node_modules/@heroicons/react/24/outline/esm/TrashIcon.js","../node_modules/@heroicons/react/24/outline/esm/HeartIcon.js","../node_modules/@heroicons/react/24/solid/esm/HeartIcon.js","pages/Home.js"],"sourcesContent":["import React from 'react';\n\nexport const PhotoCardSkeleton = () => {\n  return (\n    <div className=\"card group bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden transition-colors duration-200 animate-pulse\">\n      <div className=\"relative overflow-hidden h-64 bg-gray-200 dark:bg-gray-700\"></div>\n      <div className=\"p-4\">\n        <div className=\"flex justify-between items-start\">\n          <div className=\"w-3/4\">\n            <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded mb-2\"></div>\n            <div className=\"h-4 w-1/2 bg-gray-200 dark:bg-gray-700 rounded mb-1\"></div>\n          </div>\n          <div className=\"h-6 w-6 bg-gray-200 dark:bg-gray-700 rounded-full\"></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const PhotoGridSkeleton = ({ count = 8 }) => {\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n      {Array(count).fill(0).map((_, index) => (\n        <PhotoCardSkeleton key={index} />\n      ))}\n    </div>\n  );\n};\n\nexport default PhotoGridSkeleton;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { HeartIcon, TrashIcon } from '@heroicons/react/24/outline';\nimport { HeartIcon as HeartIconSolid } from '@heroicons/react/24/solid';\n\nconst PhotoCard = ({ photo, onLike, onDelete, currentUserId }) => {\n  const { id, title, path, likes, category, attribution, userId } = photo;\n  const [imageOrientation, setImageOrientation] = useState('square');\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [imageError, setImageError] = useState(false);\n  const isOwner = currentUserId && userId === currentUserId;\n\n  // Function to determine image orientation\n  const checkImageOrientation = (img) => {\n    if (img.naturalWidth && img.naturalHeight) {\n      // Calculate aspect ratio\n      const aspectRatio = img.naturalWidth / img.naturalHeight;\n      \n      // Define thresholds for orientation\n      if (aspectRatio < 0.9) {\n        return 'portrait';\n      } else if (aspectRatio > 1.1) {\n        return 'landscape';\n      } else {\n        return 'square';\n      }\n    }\n    return 'square'; // Default\n  };\n\n  // Handle image load\n  const handleImageLoad = (e) => {\n    const orientation = checkImageOrientation(e.target);\n    setImageOrientation(orientation);\n    setImageLoaded(true);\n    setImageError(false);\n  };\n\n  // Handle image error\n  const handleImageError = () => {\n    setImageError(true);\n    setImageLoaded(true); // Stop showing loading spinner\n  };\n\n  // Handle delete\n  const handleDelete = (e) => {\n    e.stopPropagation();\n    if (window.confirm('Are you sure you want to delete this photo? This action cannot be undone.')) {\n      onDelete(id);\n    }\n  };\n\n  return (\n    <div className=\"card group bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden transition-colors duration-200\">\n      <div className=\"relative overflow-hidden h-64\">\n        <Link to={`/photos/${id}`} className=\"block w-full h-full cursor-pointer z-10 relative\">\n          {!imageError ? (\n            <img\n              src={path}\n              alt={title}\n              className={`\n                transition-transform duration-300 group-hover:scale-105\n                ${imageOrientation === 'portrait' ? 'w-full h-auto object-cover object-center' : ''}\n                ${imageOrientation === 'landscape' ? 'h-full w-auto object-cover object-center' : ''}\n                ${imageOrientation === 'square' ? 'w-full h-full object-contain' : ''}\n                ${!imageLoaded ? 'opacity-0' : 'opacity-100'}\n              `}\n              style={{ \n                position: 'absolute',\n                left: '50%',\n                top: '50%',\n                transform: 'translate(-50%, -50%)'\n              }}\n              onLoad={handleImageLoad}\n              onError={handleImageError}\n            />\n          ) : (\n            <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-700\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-12 w-12 text-gray-400 mb-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n              </svg>\n              <p className=\"text-sm text-gray-500 dark:text-gray-300\">Image not available</p>\n            </div>\n          )}\n          {!imageLoaded && !imageError && (\n            <div className=\"absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-800\">\n              <div className=\"w-8 h-8 border-t-4 border-primary-600 border-solid rounded-full animate-spin\"></div>\n            </div>\n          )}\n        </Link>\n        <Link to={`/photos/${id}`} className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-opacity duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100 z-20\">\n          <span className=\"btn btn-primary px-4 py-2 rounded-md bg-primary-600 text-white\">\n            View Details\n          </span>\n        </Link>\n        \n        {/* Trash can icon for photo owner */}\n        {isOwner && onDelete && (\n          <button\n            onClick={handleDelete}\n            className=\"absolute top-2 right-2 p-2 bg-red-600 bg-opacity-70 hover:bg-opacity-100 text-white rounded-full transition-opacity duration-200 opacity-0 group-hover:opacity-100 z-30\"\n            title=\"Delete photo\"\n          >\n            <TrashIcon className=\"h-5 w-5\" />\n          </button>\n        )}\n      </div>\n      <div className=\"p-4\">\n        <div className=\"flex justify-between items-start\">\n          <div>\n            <h3 className=\"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-1\">\n              <Link to={`/photos/${id}`} className=\"hover:text-primary-600 dark:hover:text-primary-400\">\n                {title}\n              </Link>\n            </h3>\n            <div>\n              <span className=\"inline-block bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 dark:text-gray-300 mr-2 mb-1\">\n                #{category}\n              </span>\n              {attribution && (\n                <div className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">\n                  {attribution}\n                </div>\n              )}\n            </div>\n          </div>\n          <button\n            onClick={() => onLike(id)}\n            className=\"flex items-center text-gray-500 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400\"\n          >\n            {photo.liked ? (\n              <HeartIconSolid className=\"h-6 w-6 text-red-500 dark:text-red-400\" />\n            ) : (\n              <HeartIcon className=\"h-6 w-6\" />\n            )}\n            <span className=\"ml-1\">{likes}</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PhotoCard;","import React from 'react';\nimport PhotoCard from './PhotoCard';\n\nconst PhotoGrid = ({ photos, onLike, onDelete, currentUserId }) => {\n  if (!photos || photos.length === 0) {\n    return (\n      <div className=\"text-center py-10\">\n        <h3 className=\"text-lg font-medium text-gray-500\">No photos found</h3>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n      {photos.map((photo) => (\n        <PhotoCard \n          key={photo.id} \n          photo={photo} \n          onLike={onLike} \n          onDelete={onDelete} \n          currentUserId={currentUserId} \n        />\n      ))}\n    </div>\n  );\n};\n\nexport default PhotoGrid;","import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TrashIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction HeartIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(HeartIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction HeartIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(HeartIcon);\nexport default ForwardRef;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport PhotoGrid from '../components/photos/PhotoGrid';\nimport { PhotoGridSkeleton } from '../components/ui/SkeletonLoader';\nimport { useAuth } from '../context/AuthContext';\n\nconst Home = () => {\n  const { currentUser, isAuthenticated } = useAuth();\n  const [featuredPhotos, setFeaturedPhotos] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchFeaturedPhotos = async () => {\n      try {\n        const res = await axios.get('/api/photos');\n        \n        // Check if there are any liked photos\n        const likedPhotos = res.data.filter(photo => photo.liked);\n        \n        let photosToShow;\n        if (likedPhotos.length > 0) {\n          // If there are liked photos, only show those sorted by likes\n          photosToShow = [...likedPhotos].sort((a, b) => b.likes - a.likes);\n        } else {\n          // Otherwise, show the 8 most liked photos (current behavior)\n          photosToShow = [...res.data].sort((a, b) => b.likes - a.likes).slice(0, 8);\n        }\n        \n        setFeaturedPhotos(photosToShow);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching featured photos:', error);\n        setLoading(false);\n      }\n    };\n    \n\n    fetchFeaturedPhotos();\n  }, []);\n\n  const handleLike = async (id) => {\n    if (!isAuthenticated) {\n      alert('Please log in to like photos');\n      return;\n    }\n    \n    // Find the photo in our state\n    const photo = featuredPhotos.find(p => p.id === id);\n    \n    // If already liked, don't do anything\n    if (photo && photo.liked) {\n      return;\n    }\n    \n    try {\n      const res = await axios.post(`/api/photos/${id}/like`);\n      setFeaturedPhotos(\n        featuredPhotos.map((photo) =>\n          photo.id === id ? { \n            ...photo, \n            likes: res.data.likes,\n            liked: true\n          } : photo\n        )\n      );\n    } catch (error) {\n      console.error('Error liking photo:', error);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      await axios.delete(`/api/photos/${id}`);\n      \n      // Remove the deleted photo from the featured photos\n      setFeaturedPhotos(featuredPhotos.filter(photo => photo.id !== id));\n    } catch (error) {\n      console.error('Error deleting photo:', error);\n    }\n  };\n\n  return (\n    <div>\n      {/* Hero Section */}\n      <section className=\"bg-gradient-to-r from-primary-600 to-primary-800 dark:bg-[#051E36] dark:bg-none text-white py-16 rounded-lg mb-12\">\n        <div className=\"container mx-auto px-4 text-center\">\n          <h1 className=\"text-5xl md:text-6xl galleria-title mb-4\">\n            Galleria\n          </h1>\n          <h2 className=\"text-3xl md:text-4xl font-bold mb-4\">\n            Capture and Share Your Moments\n          </h2>\n          <p className=\"text-xl mb-8 max-w-2xl mx-auto\">\n            A beautiful gallery to showcase your photography. Upload, organize, and share your\n            favorite photos with the world.\n          </p>\n          <div className=\"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4\">\n            <Link to=\"/gallery\" className=\"btn bg-white text-primary-700 hover:bg-gray-100\">\n              Browse Gallery\n            </Link>\n            <Link to=\"/upload\" className=\"btn bg-primary-500 text-white hover:bg-primary-600 border border-white\">\n              Upload Photos\n            </Link>\n          </div>\n        </div>\n      </section>\n\n      {/* Featured Photos Section */}\n      <section className=\"mb-12\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-3xl galleria-title\">Featured Photos</h2>\n          <Link to=\"/gallery\" className=\"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium\">\n            View All â†’\n          </Link>\n        </div>\n        \n        {loading ? (\n          <PhotoGridSkeleton count={8} />\n        ) : (\n          <PhotoGrid \n            photos={featuredPhotos} \n            onLike={handleLike} \n            onDelete={handleDelete}\n            currentUserId={currentUser?.id}\n          />\n        )}\n      </section>\n\n      {/* Features Section */}\n      <section className=\"mb-12\">\n        <h2 className=\"text-3xl galleria-title mb-6 text-center\">Why Choose Galleria</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          <div className=\"bg-white dark:bg-[#051E36] p-6 rounded-lg shadow-md\">\n            <div className=\"w-12 h-12 bg-primary-100 dark:bg-primary-800 rounded-full flex items-center justify-center mb-4\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-primary-600 dark:text-primary-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n              </svg>\n            </div>\n            <h3 className=\"text-xl font-semibold mb-2 dark:text-white\">Beautiful Display</h3>\n            <p className=\"text-gray-600 dark:text-white\">\n              Showcase your photos in a responsive, grid-based layout that looks great on any device.\n            </p>\n          </div>\n          <div className=\"bg-white dark:bg-[#051E36] p-6 rounded-lg shadow-md\">\n            <div className=\"w-12 h-12 bg-primary-100 dark:bg-primary-800 rounded-full flex items-center justify-center mb-4\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-primary-600 dark:text-primary-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n              </svg>\n            </div>\n            <h3 className=\"text-xl font-semibold mb-2 dark:text-white\">Easy Uploads</h3>\n            <p className=\"text-gray-600 dark:text-white\">\n              Quickly upload your photos, add descriptions, and organize them into categories.\n            </p>\n          </div>\n          <div className=\"bg-white dark:bg-[#051E36] p-6 rounded-lg shadow-md\">\n            <div className=\"w-12 h-12 bg-primary-100 dark:bg-primary-800 rounded-full flex items-center justify-center mb-4\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-primary-600 dark:text-primary-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n              </svg>\n            </div>\n            <h3 className=\"text-xl font-semibold mb-2 dark:text-white\">Social Sharing</h3>\n            <p className=\"text-gray-600 dark:text-white\">\n              Share your photos with friends and family, and let them like and comment on your work.\n            </p>\n          </div>\n        </div>\n      </section>\n\n      {/* Call to Action */}\n      <section className=\"bg-gray-100 dark:bg-[#051E36] p-8 rounded-lg text-center\">\n        <h2 className=\"text-3xl galleria-title mb-4\">Ready to Start Sharing?</h2>\n        <p className=\"text-gray-600 dark:text-white mb-6 max-w-2xl mx-auto\">\n          Join our community of photographers and start showcasing your work today.\n        </p>\n        <Link to=\"/register\" className=\"btn btn-primary\">\n          Create an Account\n        </Link>\n      </section>\n    </div>\n  );\n};\n\nexport default Home;"],"names":["PhotoCardSkeleton","_jsxs","className","children","_jsx","PhotoGridSkeleton","_ref","count","Array","fill","map","_","index","photo","onLike","onDelete","currentUserId","id","title","path","likes","category","attribution","userId","imageOrientation","setImageOrientation","useState","imageLoaded","setImageLoaded","imageError","setImageError","isOwner","Link","to","xmlns","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","src","alt","style","position","left","top","transform","onLoad","e","orientation","img","naturalWidth","naturalHeight","aspectRatio","checkImageOrientation","target","onError","handleImageError","onClick","stopPropagation","window","confirm","TrashIcon","liked","HeartIconSolid","HeartIcon","photos","length","PhotoCard","svgRef","titleId","props","React","Object","assign","ref","Home","currentUser","isAuthenticated","useAuth","featuredPhotos","setFeaturedPhotos","loading","setLoading","useEffect","async","res","axios","get","likedPhotos","data","filter","photosToShow","sort","a","b","slice","error","console","fetchFeaturedPhotos","PhotoGrid","alert","find","p","post","delete"],"sourceRoot":""}